"use strict";
// @ts-check
Object.defineProperty(exports, "__esModule", { value: true });
const mixins_1 = require("./mixins");
const driver_1 = require("appium/driver");
const EMU_CONSOLE_FEATURE = 'emulator_console';
/**
 * @type {import('./mixins').EmulatorConsoleMixin & ThisType<import('../driver').AndroidDriver>}
 * @satisfies {import('@appium/types').ExternalDriver}
 */
const EmulatorConsoleMixin = {
    async mobileExecEmuConsoleCommand(opts) {
        this.ensureFeatureEnabled(EMU_CONSOLE_FEATURE);
        const { command, execTimeout, connTimeout, initTimeout } = opts;
        if (!command) {
            throw new driver_1.errors.InvalidArgumentError(`The 'command' argument is mandatory`);
        }
        return await /** @type {import('appium-adb').ADB} */ (this.adb).execEmuConsoleCommand(command, {
            execTimeout,
            connTimeout,
            initTimeout,
        });
    },
};
(0, mixins_1.mixin)(EmulatorConsoleMixin);
exports.default = EmulatorConsoleMixin;
//# sourceMappingURL=emu-console.js.map